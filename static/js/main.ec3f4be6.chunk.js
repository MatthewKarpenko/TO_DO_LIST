(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{245:function(e,t,a){e.exports=a(427)},254:function(e,t,a){},426:function(e,t,a){},427:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(44),s=a.n(i),o=a(40),c=a(60),l=a(213),u=(a(254),a(17)),h=a.n(u),p=a(27),d=a(35),m=a(36),f=a(41),v=a(37),b=a(16),g=a(42),E=a(435),y=a(73),w=a(433),N=a(439),O=a(106),C=a(432),j=a(437),k=a(441),x=a(214),T=a.n(x).a.create({baseURL:"http://159.89.96.181",headers:{Authorization:"Bearer tk25nfhzce216itz16njk1rwyueoroipirot"}}),S=function(){return function(){var e=Object(p.a)(h.a.mark(function e(t){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.get("/api/v1/notes").then(function(e){t({type:"FETCH_NOTES",payload:e.data.notes}),t({type:"FETCH_ERROR",payload:!1})}).catch(function(e){return t({type:"FETCH_ERROR",payload:!0})});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},M=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(f.a)(this,Object(v.a)(t).call(this,e))).handleSubmit=function(){var e=Object(p.a)(h.a.mark(function e(t){var n,r,i;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""===a.state.title||""===a.state.content){e.next=10;break}return n=a.state.title,r=a.state.content,i={title:n,content:r},e.next=7,a.props.postNote({type:"POST_NOTE",payload:i});case 7:a.props.showError?(a.setState({errorMessage:"*Something went wrong , please, try again"}),a.toggleVisibility()):(a.props.fetchNotes(),a.setState({title:"",content:"",showModal:!1})),e.next=12;break;case 10:a.setState({errorMessage:"*Please fill content and title"}),a.toggleVisibility();case 12:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.state={title:"",content:"",showModal:!1,isOpen:!1,visible:!1},a.getTitle=r.a.createRef(),a.getContent=r.a.createRef(),a.handleSubmit=a.handleSubmit.bind(Object(b.a)(a)),a.textTitle=a.textTitle.bind(Object(b.a)(a)),a.textContent=a.textContent.bind(Object(b.a)(a)),a.closeModal=a.closeModal.bind(Object(b.a)(a)),a.clearNewPost=a.clearNewPost.bind(Object(b.a)(a)),a.firstLetterUpperCase=a.firstLetterUpperCase.bind(Object(b.a)(a)),a.toggleVisibility=a.toggleVisibility.bind(Object(b.a)(a)),a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"toggleVisibility",value:function(){var e=this;this.setState(function(e){return{visible:!e.visible}}),setTimeout(function(){e.setState(function(e){return{visible:!e.visible}})},2e3)}},{key:"closeModal",value:function(){this.setState({showModal:!1})}},{key:"clearNewPost",value:function(){this.setState({showModal:!1,title:"",content:"",errorMessage:"",errorVisibility:!1})}},{key:"textTitle",value:function(){this.setState({title:this.getTitle.current.value})}},{key:"textContent",value:function(){this.setState({content:this.getContent.current.value})}},{key:"firstLetterUpperCase",value:function(e){if(e.target.value.length>0){var t=e.target.name,a=e.target.value.split(""),n=a[0].toUpperCase();a.splice(0,1),a.unshift(n);var r=a.join("");e.target.value=r,this.setState(Object(O.a)({},t,r))}}},{key:"render",value:function(){var e=this,t=this.state,a=t.visible,n=t.errorMessage,i=t.showModal;return r.a.createElement("div",null,r.a.createElement(C.a,{onClose:this.closeModal,open:i,trigger:r.a.createElement("div",{className:"note-creation-holder"},r.a.createElement("i",{className:"plus circle icon big modal-creationPost-trigger",onClick:function(){return e.setState({showModal:!0})}})),closeIcon:!0,style:{margin:"auto"}},r.a.createElement(j.a,{icon:"paper plane outline",content:"Add new note"}),r.a.createElement(C.a.Content,null,r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"ui form"},r.a.createElement("h4",{className:"ui dividing header"},"Track your tasks"),r.a.createElement("div",{className:"field"},r.a.createElement("label",null,"Title"),r.a.createElement("textarea",{className:"title-textarea",ref:this.getTitle,value:this.state.title,onChange:this.textTitle,onBlur:this.firstLetterUpperCase,name:"title"})),r.a.createElement("div",{className:"field"},r.a.createElement("label",null,"Content"),r.a.createElement("textarea",{ref:this.getContent,value:this.state.content,onChange:this.textContent}))))),r.a.createElement(k.a,{visible:a,animation:"scale",duration:300},r.a.createElement("p",{className:"error"},n)),r.a.createElement("div",{className:"actions"},r.a.createElement("div",{className:"ui button",onClick:this.clearNewPost},"Cancel"),r.a.createElement("div",{className:"ui positive button",onClick:this.handleSubmit},"Add"))))}}]),t}(n.Component),R=Object(o.b)(function(e){return{createdNotes:e.createdNotes,showError:e.showError}},{postNote:function(e){return function(){var t=Object(p.a)(h.a.mark(function t(a){return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T.post("/api/v1/notes",e.payload).then(function(){a({type:"POST_NOTE",response:e}),a({type:"FETCH_ERROR",payload:!1})}).catch(function(e){return a({type:"FETCH_ERROR",payload:!0})});case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},fetchNotes:S})(M),I=a(436),V=a(434),P=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(f.a)(this,Object(v.a)(t).call(this,e))).state={visible:!1},a.toggleVisibility=a.toggleVisibility.bind(Object(b.a)(a)),a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"toggleVisibility",value:function(){var e=this;this.setState(function(e){return{visible:!e.visible}}),setTimeout(function(){e.setState(function(e){return{visible:!e.visible}})},3e3)}},{key:"componentWillReceiveProps",value:function(e){e.status&&this.toggleVisibility()}},{key:"render",value:function(){var e=this.state.visible;return r.a.createElement(k.a,{visible:e,animation:"fade down",duration:400},r.a.createElement(V.a,{className:"".concat(this.props.messageType,"  snackBar")},this.props.content,r.a.createElement("i",{onClick:this.toggleVisibility,className:"closeMessageIcon icon x icon"})))}}]),t}(n.Component),_=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(f.a)(this,Object(v.a)(t).call(this,e))).deleteNote=Object(p.a)(h.a.mark(function e(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.props.deleteNote(a.props.noteId);case 2:return e.next=4,console.log(a.props.showError);case 4:a.props.showError?a.setState({messageStatus:!0,messageType:"err-snackBar",message:"Something went wrong with server, please try again"}):(a.props.fetchNotes(),a.setState({showModal:!1}));case 5:case"end":return e.stop()}},e)})),a.state={showModal:!1,messageStatus:!1,messageType:"",message:""},a.deleteNote=a.deleteNote.bind(Object(b.a)(a)),a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(C.a,{trigger:r.a.createElement("i",{className:"icon trash",onClick:function(){e.setState({showModal:!0})}}),basic:!0,size:"small",style:{margin:"auto"},open:this.state.showModal},r.a.createElement(j.a,{icon:this.props.icon,content:this.props.headerText}),r.a.createElement(C.a.Actions,null,r.a.createElement(I.a,{basic:!0,color:"red",onClick:function(){e.setState({showModal:!1})},inverted:!0},r.a.createElement(y.a,{name:"remove"})," No"),r.a.createElement(I.a,{onClick:this.deleteNote,color:"blue",style:{color:"white"},inverted:!0},r.a.createElement(y.a,{name:"checkmark"})," Yes")),r.a.createElement(P,{status:this.state.messageStatus,messageType:this.state.messageType,content:this.state.message})))}}]),t}(r.a.Component),L=Object(o.b)(function(e){return{deletedNote:e.deleteNote,showError:e.showError}},{deleteNote:function(e){return function(){var t=Object(p.a)(h.a.mark(function t(a){return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T.delete("/api/v1/notes/".concat(e),{noteId:e}).then(function(e){a({type:"DELETE_NOTE",payload:e.status}),a({type:"FETCH_ERROR",payload:!1})}).catch(function(e){a({type:"FETCH_ERROR",payload:!0})});case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},fetchNotes:S})(_),F=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(f.a)(this,Object(v.a)(t).call(this,e))).handleSubmit=function(){var e=Object(p.a)(h.a.mark(function e(t){var n,r,i;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),console.log(a.props.noteId),""===a.state.title||""===a.state.content){e.next=11;break}return n=a.state.title,r=a.state.content,i={title:n,content:r},e.next=8,a.props.updateNote(i,a.props.noteId);case 8:a.props.showError?(a.setState({errorMessage:"*Something went wrong , please, try again"}),a.toggleVisibility()):(a.props.fetchNotes(),a.setState({title:"",content:"",showModal:!1})),e.next=13;break;case 11:a.setState({errorMessage:"*Please fill content and title"}),a.toggleVisibility();case 13:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.state={title:a.props.noteTitle,content:a.props.noteContent,showModal:!1,isOpen:!1,visible:!1},a.getTitle=r.a.createRef(),a.getContent=r.a.createRef(),a.handleSubmit=a.handleSubmit.bind(Object(b.a)(a)),a.textTitle=a.textTitle.bind(Object(b.a)(a)),a.textContent=a.textContent.bind(Object(b.a)(a)),a.closeModal=a.closeModal.bind(Object(b.a)(a)),a.clearNewPost=a.clearNewPost.bind(Object(b.a)(a)),a.firstLetterUpperCase=a.firstLetterUpperCase.bind(Object(b.a)(a)),a.toggleVisibility=a.toggleVisibility.bind(Object(b.a)(a)),a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"toggleVisibility",value:function(){var e=this;this.setState(function(e){return{visible:!e.visible}}),setTimeout(function(){e.setState(function(e){return{visible:!e.visible}})},2e3)}},{key:"closeModal",value:function(){this.setState({showModal:!1})}},{key:"clearNewPost",value:function(){this.setState({showModal:!1,title:"",content:"",errorMessage:"",errorVisibility:!1})}},{key:"textTitle",value:function(){this.setState({title:this.getTitle.current.value})}},{key:"textContent",value:function(){this.setState({content:this.getContent.current.value})}},{key:"firstLetterUpperCase",value:function(e){if(e.target.value.length>0){var t=e.target.name,a=e.target.value.split(""),n=a[0].toUpperCase();a.splice(0,1),a.unshift(n);var r=a.join("");e.target.value=r,this.setState(Object(O.a)({},t,r))}}},{key:"render",value:function(){var e=this,t=this.state,a=t.visible,n=t.errorMessage,i=t.showModal;return r.a.createElement(C.a,{onClose:this.closeModal,open:i,trigger:r.a.createElement("i",{className:"sync icon ",onClick:function(){return e.setState({showModal:!0})}}),closeIcon:!0,style:{margin:"auto"}},r.a.createElement(j.a,{icon:"paper plane outline",content:"Add new note"}),r.a.createElement(C.a.Content,null,r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"ui form"},r.a.createElement("h4",{className:"ui dividing header"},"Track your tasks"),r.a.createElement("div",{className:"field"},r.a.createElement("label",null,"Title"),r.a.createElement("textarea",{className:"title-textarea",ref:this.getTitle,value:this.state.title,onChange:this.textTitle,onBlur:this.firstLetterUpperCase,name:"title"})),r.a.createElement("div",{className:"field"},r.a.createElement("label",null,"Content"),r.a.createElement("textarea",{value:this.state.content,ref:this.getContent,onChange:this.textContent}))))),r.a.createElement(k.a,{visible:a,animation:"scale",duration:300},r.a.createElement("p",{className:"error"},n)),r.a.createElement("div",{className:"actions"},r.a.createElement("div",{className:"ui button",onClick:this.clearNewPost},"Cancel"),r.a.createElement("div",{className:"ui positive button",onClick:this.handleSubmit},"Add")))}}]),t}(n.Component),H=Object(o.b)(function(e){return{updatedNote:e.updatedNotes,showError:e.showError}},{updateNote:function(e,t){return function(){var a=Object(p.a)(h.a.mark(function a(n){return h.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,T.patch("/api/v1/notes/".concat(t),e).then(function(e){console.log(e),n({type:"FETCH_ERROR",payload:!1})}).catch(function(e){return n({type:"FETCH_ERROR",payload:!0})});case 2:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()},fetchNotes:S})(F),U=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(f.a)(this,Object(v.a)(t).call(this,e))).state={notesArr:[],activeIndex:0,messageStatus:!1,message:""},a.note=r.a.createRef(),a.handleClick=a.handleClick.bind(Object(b.a)(a)),a.showNotes=a.showNotes.bind(Object(b.a)(a)),a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"handleClick",value:function(e,t){var a=t.index,n=this.state.activeIndex===a?-1:a;this.setState({activeIndex:n})}},{key:"componentDidMount",value:function(){var e=Object(p.a)(h.a.mark(function e(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.fetchNotes();case 2:"string"===typeof this.props.notes[0]&&this.setState({messageStatus:!0,message:"Something went wrong with server, please reload the page"});case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"showNotes",value:function(){var e=this;return this.props.notes.map(function(t,a){return r.a.createElement("div",{key:t.id,id:t.id,className:"note-title-container"},r.a.createElement(E.a.Title,{active:e.state.activeIndex===a,index:a,onClick:e.handleClick,className:"note-title"},r.a.createElement(y.a,{name:"dropdown"}),t.title),r.a.createElement(E.a.Content,{className:"note-content",active:e.state.activeIndex===a},r.a.createElement("p",null,t.content)),r.a.createElement(w.a,{className:"modal-editing-trigger ",icon:"ellipsis vertical",style:{cursor:"pointer"}},r.a.createElement(w.a.Menu,null,r.a.createElement(w.a.Item,{children:r.a.createElement(L,{trigger:r.a.createElement("i",{className:"icon trash"}),icon:"trash",headerText:"Do you want to delete this note ?",ref:e.wholePost,triggerDelete:e.triggerDelete,noteId:t.id})}),r.a.createElement(w.a.Item,{children:r.a.createElement(H,{noteId:t.id,noteContent:t.content,noteTitle:t.title})}))))})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(R,null),r.a.createElement("div",{className:"notes-position"},r.a.createElement(N.a,{className:"notes-holder",inverted:!0},r.a.createElement(E.a,{inverted:!0},this.showNotes()))),r.a.createElement(P,{status:this.props.showError,messageType:"err-snackBar",content:"Something went wrong with server, please reload the page"}))}}]),t}(n.Component),A=Object(o.b)(function(e){return{notes:e.existedNotes.reverse(),showError:e.showError}},{fetchNotes:S})(U);a(426);var D=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("h1",{className:"app-name"},"List"),r.a.createElement("div",{className:"main-components"},r.a.createElement(A,null)))},B=a(236),z=Object(c.c)({existedNotes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_NOTES":return Object(B.a)(t.payload);default:return e}},createdNotes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];arguments.length>1&&arguments[1];return e},deleteNote:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DELETE_NOTE":return t.payload;default:return e}},showError:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_ERROR":return t.payload;default:return e}}}),J=Object(c.d)(z,Object(c.a)(l.a));s.a.render(r.a.createElement(o.a,{store:J},r.a.createElement(D,null)),document.getElementById("root"))}},[[245,1,2]]]);
//# sourceMappingURL=main.ec3f4be6.chunk.js.map